{"version":3,"sources":["components/error/ErrorModal.js","components/pages/Login.js"],"names":["getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","borderRadius","width","background","shadows","spacing","ErrorModal","props","classes","React","useState","modalStyle","body","style","className","id","error","open","onClose","handleClose","aria-labelledby","aria-describedby","Login","history","useHistory","username","password","user","setuser","checked","setchecked","auth","useContext","authContext","generalContext","useHttpClient","isLoading","sendRequest","clearError","submit","e","a","preventDefault","process","JSON","stringify","responseData","localStorage","setItem","name","sessionStorage","login","push","onSubmit","type","value","onChange","target","autoComplete","required","htmlFor","prevState"],"mappings":"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","file":"static/js/14.6807df35.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\n\r\nfunction getModalStyle() {\r\n    const top = 50;\r\n    const left = 50;\r\n  \r\n    return {\r\n      top: `${top}%`,\r\n      left: `${left}%`,\r\n      transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n  }\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    transform: `translate(-50%, -50%)`,\r\n    position: 'absolute',\r\n    borderRadius:\"30px\",\r\n    width: 500,\r\n    background: \"#ED213A\",  /* fallback for old browsers */\r\n    background: \"-webkit-linear-gradient(to right, #93291E, #ED213A)\",  /* Chrome 10-25, Safari 5.1-6 */\r\n    background: \"linear-gradient(to right, #93291E, #ED213A)\", /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    color:\"white\"\r\n  },\r\n}));\r\n\r\nexport default function ErrorModal(props) {\r\n  const classes = useStyles();\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  \r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <h2 id=\"simple-modal-title\">Bir hata meydana geldi!</h2>\r\n      <p id=\"simple-modal-description\">\r\n        {props.error}\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n      <Modal\r\n        open={props.open}\r\n        onClose={props.handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n  );\r\n}\r\n","import React, { useContext, useState, Fragment } from \"react\";\r\nimport { authContext,generalContext } from \"../../WRAPPERS/Context/myContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useHttpClient from \"../../hooks/useHttpClient\";\r\nimport \"./login.css\";\r\nimport ErrorModal from \"../../components/error/ErrorModal\";\r\nimport Spinner from \"../../components/spinner/Spinner\";\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n  const [user, setuser] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [checked, setchecked] = useState(false);\r\n  const auth = useContext(authContext);\r\n  const general = useContext(generalContext);\r\n  const { isLoading, sendRequest, open, clearError, error } = useHttpClient();\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const responseData = await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL + \"/users/login\",\r\n        \"POST\",\r\n        JSON.stringify({\r\n          username: user.username,\r\n          password: user.password,\r\n        }),\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      );\r\n      if (checked) {\r\n        localStorage.setItem(\"id\", responseData.user.id);\r\n        localStorage.setItem(\"name\", responseData.user.name);\r\n        sessionStorage.setItem(\"uid\", responseData.user.id);\r\n        sessionStorage.setItem(\"uname\", responseData.user.name);\r\n      } else {\r\n        sessionStorage.setItem(\"uid\", responseData.user.id);\r\n        sessionStorage.setItem(\"uname\", responseData.user.name);\r\n      }\r\n      auth.login(responseData.user.id, responseData.user.name);\r\n      history.push(\"/Hosgeldiniz\");\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <ErrorModal open={open} handleClose={clearError} error={error} />\r\n      {isLoading && <Spinner />}\r\n      <div className=\"login-page\">\r\n        <div className=\"form\">\r\n          <form onSubmit={submit}>\r\n            <div className=\"textarea\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={user.username}\r\n                onChange={(e) => setuser({ ...user, username: e.target.value })}\r\n                autoComplete=\"off\"\r\n                required\r\n              />\r\n              <label htmlFor=\"username\" className=\"label-name\">\r\n                <span className=\"content-name\">Kullanıcı Adı</span>\r\n              </label>\r\n            </div>\r\n            <div className=\"textarea\">\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={user.password}\r\n                onChange={(e) => setuser({ ...user, password: e.target.value })}\r\n                autoComplete=\"off\"\r\n                required\r\n              />\r\n              <label htmlFor=\"password\" className=\"label-name\">\r\n                <span className=\"content-name\">Şifre</span>\r\n              </label>\r\n            </div>\r\n            <div className=\"remember-me\">\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"checkbox\"\r\n                checked={checked}\r\n                onChange={() => setchecked(prevState => !prevState)}\r\n              />\r\n              <p>Beni hatırla</p>\r\n            </div>\r\n            <button type=\"submit\" className=\"btn-login fullwidth\">\r\n              Giriş Yap\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}