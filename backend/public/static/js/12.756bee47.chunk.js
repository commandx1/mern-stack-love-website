(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{135:function(e,t,a){"use strict";var n=a(133),r=a.n(n),c=a(134),i=a(10),o=a(0);t.a=function(e){var t=Object(o.useState)(e),a=Object(i.a)(t,2),n=a[0],l=a[1],u=Object(o.useState)(!1),s=Object(i.a)(u,2),d=s[0],m=s[1],f=Object(o.useState)(),p=Object(i.a)(f,2),g=p[0],v=p[1],b=Object(o.useState)(!1),h=Object(i.a)(b,2),O=h[0],j=h[1],E=Object(o.useRef)([]),x=Object(o.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i,o,l,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:"GET",n=u.length>2&&void 0!==u[2]?u[2]:null,c=u.length>3&&void 0!==u[3]?u[3]:{},m(!0),i=new AbortController,E.current.push(i),e.prev=6,e.next=9,fetch(t,{method:a,body:n,headers:c,signal:i.signal});case 9:return o=e.sent,e.next=12,o.json();case 12:if(l=e.sent,E.current=E.current.filter((function(e){return e!==i})),o.ok){e.next=16;break}throw new Error(l.message);case 16:return m(!1),e.abrupt("return",l);case 20:throw e.prev=20,e.t0=e.catch(6),v(e.t0.message),m(!1),j(!0),e.t0;case 26:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){return function(){E.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:d,error:g,open:O,sendRequest:x,clearError:function(){v(null),j(!1),l("")},state:n}}},137:function(e,t,a){},139:function(e,t,a){"use strict";a(137);var n=a(0),r=a.n(n);t.a=function(e){return r.a.createElement("div",{className:"container"},e.children)}},140:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),c=a(395),i=a(392);function o(e){var t=e.open,a=e.message,n=e.alert,o=e.onClose;function l(e){return r.a.createElement(i.a,Object.assign({elevation:6,variant:"filled"},e))}return r.a.createElement("div",null,r.a.createElement(c.a,{autoHideDuration:6e3,onClose:o,anchorOrigin:{vertical:"top",horizontal:"right"},key:"top, right",open:t},r.a.createElement(l,{severity:n,onClose:o},a)))}},143:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(137);t.a=function(e){return r.a.createElement("div",{id:"page-title"},e.children)}},156:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),r=a.n(n),c=a(116),i=a(394),o=a(214),l=a(215),u=a(131),s=a(382);a(165);function d(e){var t=e.open,a=e.handleClose,n=e.deleteHandler,d=e.elementId,m=e.element,f=Object(u.a)("(max-width: 769px)"),p=Object(c.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{width:f&&"90%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))();return r.a.createElement(i.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:p.modal,open:t,onClose:a,closeAfterTransition:!0,BackdropComponent:o.a,BackdropProps:{timeout:500}},r.a.createElement(l.a,{in:t},r.a.createElement("div",{className:p.paper},r.a.createElement("h2",{id:"transition-modal-title"},m," silmek istedi\u011finize emin misiniz? \ud83e\udd14"),r.a.createElement(s.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){return n(d)}},"Sil"),r.a.createElement(s.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return a()}},"Vazge\xe7"))))}},165:function(e,t,a){},294:function(e,t,a){},390:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(0),c=a.n(r),i=a(116),o=a(391),l=Object(i.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(2)}}}}));function u(e){for(var t=[],a=1;a<=Math.ceil(e.totalPosts/e.postsPerPage);a++)t.push(a);console.log(e.totalPosts);var n=l();return c.a.createElement("div",{className:n.root},c.a.createElement(o.a,{onChange:function(t,a){return e.paginate(a)},count:t.length,color:"secondary"}))}var s=a(2),d=a(131),m=a(75),f=a(133),p=a.n(f),g=a(134),v=(a(294),a(295)),b=a.n(v),h=a(135),O=a(156),j=a(45),E=a(140),x=function(e){var t=Object(h.a)(),a=t.isLoading,i=(t.open,t.error,t.sendRequest),o=(t.clearError,Object(r.useState)(!1)),l=Object(n.a)(o,2),u=l[0],s=l[1],d=Object(r.useState)(!1),m=Object(n.a)(d,2),f=m[0],v=m[1],x=Object(r.useState)({type:"",content:""}),y=Object(n.a)(x,2),w=y[0],k=y[1],C=function(){s(!0)},P=function(){s(!1)},S=function(){var t=Object(g.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(),t.prev=1,t.next=4,i("".concat("https://love-website.herokuapp.com/api","/upload/").concat(a),"DELETE");case 4:n=t.sent,e.deleteImage(a),v(!0),k({type:n.message.type,content:n.message.content}),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement(r.Fragment,null,c.a.createElement(E.a,{open:f,onClose:function(){return v(!1)},message:w.content,alert:w.type}),a&&c.a.createElement(j.a,null),c.a.createElement(O.a,{element:"Foto\u011fraf\u0131",elementId:e.activeId,open:u,handleClose:P,handleOpen:C,deleteHandler:S}),c.a.createElement("div",{className:"active-thumbail"},c.a.createElement(b.a,{color:"secondary",onClick:function(){return C()}}),c.a.createElement("img",{src:"".concat("https://cerenserhat-love.s3.eu-central-1.amazonaws.com","/").concat(e.activeThumb),alt:"name"})))},y=a(216),w=a.n(y),k=function(e){w()("(max-width:800px");var t={maxWidth:"100%",margin:"0 auto",maxHeight:"100%",opacity:e.active?1:.1,transition:"800ms"};return c.a.createElement("div",{onClick:function(){return e.activeImageChange(e.imageId)},style:{height:"100%",display:"flex",position:"relative"}},c.a.createElement("img",{style:t,src:"".concat("https://cerenserhat-love.s3.eu-central-1.amazonaws.com","/").concat(e.imageSrc),alt:"name"}))},C=function(e){var t=Object(h.a)(),a=t.isLoading,n=(t.error,t.sendRequest);t.clearError;return a?e.updateLoading(!0):e.updateLoading(!1),Object(r.useEffect)((function(){(function(){var t=Object(g.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("".concat("https://love-website.herokuapp.com/api","/upload/").concat(e.currentPage));case 3:a=t.sent,e.updateNumOfLoadedImages(a.images.length),e.updateSource(a.images[0].imageUrl,a.images[0]._id),e.updateTotalPosts(a.total),e.updateActiveText(a.images[0].content),r=a.images.map((function(e){return 0===a.images.indexOf(e)?Object(s.a)(Object(s.a)({},e),{},{active:!0}):Object(s.a)(Object(s.a)({},e),{},{active:!1})})),e.updateMyGallery(r),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}})()()}),[e.currentPage,e.images.length]),c.a.createElement("div",{style:{height:"20%",width:"100%",background:"#844",display:"flex",flexWrap:"wrap",overflow:"auto",flexDirection:"column"}},a?c.a.createElement("div",{className:"loader-wrapper"},c.a.createElement("div",{className:"loader"})):e.images.map((function(t){return c.a.createElement(k,{active:t.active,key:t._id,activeImageChange:e.activeImageChange,imageId:t._id,imageSrc:t.imageUrl})})))},P=function(e){var t=Object(d.a)("(max-width:769px)"),a=Object(r.useState)([]),i=Object(n.a)(a,2),o=i[0],l=i[1],u=Object(r.useState)(null),f=Object(n.a)(u,2),p=f[0],g=f[1],v=Object(r.useState)(!1),b=Object(n.a)(v,2),h=b[0],O=b[1],j=Object(m.a)({root:{display:"flex",flexDirection:"column",alignItems:"center"},thumbnailGallery:{height:"90vh",width:"100%",display:"flex"},thumbnail:{height:"100%",width:"100%",backgroundColor:"khaki",borderRight:"1px solid",order:t&&2,display:"flex",flexDirection:"column",alignItems:"center"}})(),E=Object(r.useState)(),y=Object(n.a)(E,2),w=(y[0],y[1]),k=Object(r.useState)({imageUrl:"",_id:""}),P=Object(n.a)(k,2),S=P[0],I=P[1];window.addEventListener("keydown",(function(e){[32,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault()}),!1),window.onkeydown=!h&&e.totalPosts>0&&function(e){!function(e,t,a,n,r,c,i){var o,l;switch(e.keyCode){case 39:t.map((function(e){e.active&&(o=t.indexOf(e))})),l=o===t.lastIndexOf(t[a-1])?0:o+1,n(t.map((function(e){return t.indexOf(e)===l?Object(s.a)(Object(s.a)({},e),{},{active:!0}):Object(s.a)(Object(s.a)({},e),{},{active:!1})}))),r({imageUrl:t[l].imageUrl,_id:t[l]._id}),c(t[l].content);break;case 37:t.map((function(e){e.active&&(o=t.indexOf(e))})),l=0===o?t.lastIndexOf(t[a-1]):o-1,n(t.map((function(e){return t.indexOf(e)===l?Object(s.a)(Object(s.a)({},e),{},{active:!0}):Object(s.a)(Object(s.a)({},e),{},{active:!1})}))),r({imageUrl:t[l].imageUrl,_id:t[l]._id}),c(t[l].content)}}(e,o,p,l,I,w)};return c.a.createElement("div",{"data-aos":"fade-up",style:{width:"100%",height:"100%"}},c.a.createElement("div",{className:j.root},c.a.createElement("div",{className:j.thumbnailGallery},c.a.createElement("div",{className:j.thumbnail},c.a.createElement(x,{deleteImage:function(e){var t;o.map((function(a){a._id===e&&(t=a)}));o.indexOf(t);var a=o.filter((function(t){return t._id!==e}));l(a)},activeId:S._id,activeThumb:S.imageUrl}),c.a.createElement(C,{activeImageChange:function(e){var t;o.map((function(a){a._id===e&&(t=a)}));var a=o.indexOf(t);w(o[a].content),I({imageUrl:o[a].imageUrl,_id:o[a]._id});var n=o.map((function(t){return t._id===e?Object(s.a)(Object(s.a)({},t),{},{active:!0}):Object(s.a)(Object(s.a)({},t),{},{active:!1})}));l(n)},images:o,currentPage:e.currentPage,totalPosts:e.totalPosts,updateTotalPosts:function(t){return e.settotalPosts(t)},updateNumOfLoadedImages:function(e){return g(e)},updateSource:function(e,t){return I({imageUrl:e,_id:t})},updateActiveText:function(e){return w(e)},updateMyGallery:function(e){return l(e)},updateLoading:function(e){return O(e)}})))))},S=a(139),I=a(143);t.default=function(){var e=Object(r.useState)(1),t=Object(n.a)(e,2),a=t[0],i=t[1],o=Object(r.useState)(null),l=Object(n.a)(o,2),s=l[0],d=l[1];return c.a.createElement(r.Fragment,null,c.a.createElement(I.a,null,"Galerimizz"),c.a.createElement(S.a,null,c.a.createElement("div",{id:"gallery-wrapper"},c.a.createElement(P,{currentPage:a,totalPosts:s,settotalPosts:d}),c.a.createElement(u,{postsPerPage:16,totalPosts:s,paginate:function(e){i(e)}}))))}}}]);
//# sourceMappingURL=12.756bee47.chunk.js.map